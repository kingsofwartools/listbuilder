{"version":3,"sources":["components/common/Button.js","components/unit/UnitHeader.js","components/unit/UnitTableRow.js","components/unit/UnitTable.js","components/unit/UnitOptions.js","contexts/PlaneContextProvider.js","components/unit/UnitArtefacts.js","helpers/parse-halpi.js","components/unit/UnitFooter.js","components/unit/MultiUnit.js","components/common/ButtonRow.js","components/views/FactionUnitsIndex.js","components/unit/Unit.js","components/views/UnitSelect.js","components/common/Banner.js","components/UnlocksBanner.js","components/DuplicatesBanner.js","components/views/ArmyList.js","components/views/ArmiesIndex.js","components/views/PlanesIndex.js","helpers/unlocks.js","helpers/points.js","helpers/duplicates.js","helpers/artefacts.js","helpers/limits.js","components/views/Index.js","components/views/StandardIndex.js","components/views/HalpisRiftIndex.js","App.js","serviceWorker.js","index.js"],"names":["Button","text","onClick","disabled","variant","size","className","UnitHeader","unit","displayEditButton","handleClickEdit","displayHeaderCost","unitDetails","unitDescription","includes","type","Row","noGutters","name","Col","unitCost","UnitTableRow","displayAddButton","addUnit","modelCount","speed","melee","ranged","defence","height","unitStrength","attacks","nerve","cost","UnitTable","units","Table","map","key","UnitOptions","view","possibleOptions","selectedOptions","selectOption","deselectOption","isChecked","option","find","selectedOption","hasSameName","nValue","index","ToggleButtonGroup","onChange","handleChange","value","ToggleButton","id","htmlFor","length","PlaneContext","React","createContext","PlaneContextProvider","children","selectedPlane","Provider","UnitArtefacts","availableArtefacts","selectArtefact","selectedArtefacts","sizeModifier","useContext","filteredArtefacts","filter","artefact","handleSelect","artefactName","selectedArtefact","DropdownButton","onSelect","e","title","sort","a","b","Dropdown","Item","eventKey","as","calculateAvailablePlaneSpells","planeSpells","spellcasterLevel","reduce","accumulatedSpells","spell","levels","forEach","spellLevel","level","push","limit","n","UnitFooter","enrichedAvailableArtefacts","artefacts","pointyWizardsHatSpells","spells","spellcaster","options","allocatedSpell","enrichedOptions","handleSelectArtefact","selectedPointyWizardsHatSpells","isSelectingNonPointyHatArtefactAtIndex","splitSpecialRules","specialRules","split","ruleSection","i","keywords","artefactsLimit","MultiUnitRow","ButtonRow","sticky","childButtons","Array","isArray","child","Container","childButton","xs","lg","FactionUnitsIndex","army","goToDisplay","selectUnit","selectArmy","fromArmyList","displaySelectOtherArmy","defaultTab","setLastTab","handleClickAdd","window","scrollTo","mergedFactionList","mergedUnitIndex","findIndex","unitArr","filterUnitsByLabel","label","typesDict","sizesDict","Hero","WE","useState","filteredMergedUnits","setFilteredMergedUnits","Tabs","defaultActiveKey","unitType","Tab","MultiUnit","Unit","UnitSelect","armyName","handleAddUnitToListWithArmyAndUnit","editingUnit","editUnit","deleteUnit","deleteConfirm","enrichedUnit","setEnrichedUnit","previousEnrichedUnit","sum","o","splice","Banner","Alert","UnlocksBanner","unallocated","tooManyHWMT","hwmt","tooManyTroopsOrIrregular","troopOrIrregular","DuplicatesAndLimitsBanner","tooManyDuplicates","overLimits","artefactDuplicates","ArmyList","armyList","setFromArmyList","points","faction","DuplicatesBanner","unitId","handleEditUnitClick","ArmiesIndex","armies","handleArmyButtonClick","halpi","alignmentString","filterString","filteredArmies","alignment","arrayOfArmyArrays","filterAndChunk","flat","armyArr","Good","Neutral","Evil","PlanesIndex","planes","handlePlaneButtonClick","plane","unlockAmounts","Infantry","Regiment","heroMonsterTitanOrWarEngineUnique","Horde","monsterOrTitan","hero","warEngine","Legion","Chariot","Cavalry","calculateUnallocated","unitsArr","unitDetailsArr","troopsAndIrregularUnits","irregular","heroes","warEngines","monsters","titans","unitsWithSlots","unlocks","troopIrreg","hasBeenAllocated","nonHero","nonWarEngine","monster","nonMonster","titan","nonTitan","calculatePointsTotal","total","types","calculateDuplicates","pointsTotal","maxOfAnyHMWT","Math","floor","isTooMany","u","calculateDuplicateArtefacts","Object","values","number","calculateUnitLimits","overLimit","limitedOption","Index","setArmies","isLoaded","setIsLoaded","display","setDisplay","setSelectedPlane","selectedArmy","setSelectedArmy","selectedUnit","setSelectedUnit","setUnallocated","setPoints","setTooManyDuplicates","setOverLimits","setArtefactDuplicates","lastTab","useReducer","armyListState","action","armyListIndex","addUnitToListDispatchFunction","editUnitDispatchFunction","newArmylistState","emptyArmy","deleteUnitDispatchFunction","Error","dispatch","useEffect","armiesData","unallocatedObj","processUnlocks","newPoints","keys","isTooManyDuplicates","flattenedUnits","processDuplicates","pointsObj","processPoints","processArtefacts","processLimits","handleGoToDisplay","halpiArtefacts","to","planeName","armyData","halpiPlanesData","availablePlaneSpells","uuidv4","StandardIndex","HalpisRiftIndex","App","exact","path","component","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.e819b10c.chunk.js","sourcesContent":["import React from 'react';\nimport BootstrapButton from 'react-bootstrap/Button';\n\nconst Button = ({ text, onClick, disabled, variant, size }) => {\n  return (\n    <BootstrapButton onClick={onClick} disabled={disabled} variant={variant} size={size} className=\"d-print-none\">\n      {text}\n    </BootstrapButton>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Button from 'components/common/Button.js';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nconst UnitHeader = ({ unit, displayEditButton = false, handleClickEdit = false, displayHeaderCost = true }) => {\n  const unitDetails = unit.unitDetails ? unit.unitDetails : unit;\n  const unitDescription = ['Hero', 'War Engine', 'Monster', 'Titan'].includes(unitDetails.size) && unitDetails.size !== unitDetails.type ?\n    `${unitDetails.size} (${unitDetails.type})` :\n    unitDetails.type;\n\n  return (\n    <Row className=\"unit-header\" noGutters>\n      <div className=\"unit-header__unit-name-container\">\n        <p className=\"unit-header__unit-name\">{unitDetails.name}</p>\n        {displayEditButton && <Button text=\"Edit\" onClick={() => handleClickEdit(unit)} size=\"sm\" />}\n      </div>\n      <Col className=\"unit-header__unit-type-container\">\n        <p className=\"unit-header__unit-type\">\n          <span className=\"badge badge-secondary\">{unitDescription}</span>\n          {displayHeaderCost && unit.unitCost && ` ${unit.unitCost}pts`}\n        </p>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UnitHeader;\n","import React from 'react';\nimport Button from '../common/Button';\n\nconst UnitTableRow = ({ unit, displayAddButton = false, addUnit = false }) => {\n  const unitDetails = unit.unitDetails ? unit.unitDetails : unit;\n\n  return (\n    <tr className=\"unit-table-row\">\n      <td>\n        <p>{`${unitDetails.size} (${unitDetails.modelCount})`}</p>\n      </td>\n      <td>\n        <p>{unitDetails.speed}</p>\n      </td>\n      <td>\n        <p>{unitDetails.melee}</p>\n      </td>\n      <td>\n        <p>{unitDetails.ranged}</p>\n      </td>\n      <td>\n        <p>{unitDetails.defence}</p>\n      </td>\n      <td>\n        <p>{unitDetails.height}</p>\n      </td>\n      <td>\n        <p>{unitDetails.unitStrength}</p>\n      </td>\n      <td>\n        <p>{unitDetails.attacks}</p>\n      </td>\n      <td>\n        <p>{unitDetails.nerve}</p>\n      </td>\n      <td className=\"d-print-none\">\n        <p>{unitDetails.cost}</p>\n      </td>\n      {displayAddButton && (\n        <td className=\"d-print-none\">\n          <Button text=\"Add\" onClick={() => addUnit(unit)} size=\"sm\" />\n        </td>\n      )}\n    </tr>\n  );\n};\n\nexport default UnitTableRow;\n","import React from 'react';\nimport UnitTableRow from './UnitTableRow';\nimport Table from 'react-bootstrap/Table';\n\nconst UnitTable = ({ units, displayAddButton = false, addUnit = false }) => {\n  return (\n    <Table className=\"unit-table\">\n      <tbody>\n        <tr>\n          <th>\n            <p>Unit size</p>\n          </th>\n          <th>\n            <p>Sp</p>\n          </th>\n          <th>\n            <p>Me</p>\n          </th>\n          <th>\n            <p>Ra</p>\n          </th>\n          <th>\n            <p>De</p>\n          </th>\n          <th>\n            <p>H</p>\n          </th>\n          <th>\n            <p>US</p>\n          </th>\n          <th>\n            <p>Att</p>\n          </th>\n          <th>\n            <p>Ne</p>\n          </th>\n          <th className=\"d-print-none\">\n            <p>Pts</p>\n          </th>\n          <th className=\"d-print-none\"></th>\n        </tr>\n        {units.map((unit) => (\n          <UnitTableRow\n            key={unit.unitDetails ? `${unit.unitDetails.name}-${unit.unitDetails.size}` : `${unit.name}-${unit.size}`}\n            unit={unit}\n            displayAddButton={displayAddButton}\n            addUnit={addUnit}\n          />\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n\nexport default UnitTable;\n","import React from 'react';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\n\nconst UnitOptions = ({ view, possibleOptions, selectedOptions, selectOption, deselectOption }) => {\n  const handleChange = (option) => {\n    selectedOptions.find((selectedOption) => {\n      return selectedOption.nValue\n        ? selectedOption.name === option.name && selectedOption.nValue === option.nValue\n        : selectedOption.name === option.name;\n    })\n      ? deselectOption(option)\n      : selectOption(option);\n  };\n\n  const isChecked = (option) => {\n    return !!(\n      selectedOptions &&\n      selectedOptions.find((selectedOption) => {\n        const hasSameName = selectedOption.name === option.name;\n        return selectedOption.nValue ? hasSameName && selectedOption.nValue === option.nValue : hasSameName;\n      })\n    );\n  };\n\n  return (\n    <div className=\"unit-options\">\n      {view === 'unitSelect' && (\n        <div className=\"unit-options--select\">\n          <p>\n            <span className=\"unit-options__label--select\">Options: </span>\n          </p>\n          <ul className=\"unit-options__list--select\">\n            {possibleOptions.map((option, index) => (\n              <li key={`${option.name}${option.nValue ? option.nValue : ''}`}>\n                <ToggleButtonGroup type=\"checkbox\" onChange={() => handleChange(option)} value={isChecked(option)}>\n                  <ToggleButton\n                    className={`unit-options__toggle${isChecked(option) ? '--selected' : ''}`}\n                    id={option.nValue ? `${option.name}(${option.nValue})-${index}` : `${option.name}-${index}`}\n                    variant={isChecked(option) ? 'success' : 'outline-success'}\n                    size=\"sm\"\n                  >\n                    {option.cost}pts\n                  </ToggleButton>\n                </ToggleButtonGroup>\n                <label\n                  htmlFor={option.nValue ? `${option.name}(${option.nValue})-${index}` : `${option.name}-${index}`}\n                >\n                  {option.name}\n                  {(option.nValue && ` (${option.nValue})`) || ''}\n                </label>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n      {view === 'armyList' && (\n        <div className=\"unit-options--select\">\n          <p>\n            <span className=\"unit-footer__label\">Options: </span>\n            {selectedOptions.map((option, index) => (\n              <span key={`${option.name}${option.nValue ? option.nValue : ''}`}>\n                {option.name}\n                {(option.nValue && ` (${option.nValue})`) || ''} ({option.cost}pts)\n                {index < selectedOptions.length - 1 ? ', ' : ''}\n              </span>\n            ))}\n          </p>\n        </div>\n      )}\n      {view === 'factionUnitsIndex' && (\n        <div className=\"unit-options--select\">\n          <p>\n            <span className=\"unit-footer__label\">Options: </span>\n          </p>\n          <ul>\n            {possibleOptions.map((option) => (\n              <li key={`${option.name}${option.nValue ? option.nValue : ''}`}>\n                {option.name}\n                {(option.nValue && ` (${option.nValue})`) || ''}: {option.cost}pts\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UnitOptions;\n","import React from 'react';\n\nexport const PlaneContext = React.createContext(null);\n\nexport const PlaneContextProvider = ({ children, selectedPlane }) => {\n  return <PlaneContext.Provider value={selectedPlane}>{children}</PlaneContext.Provider>;\n};\n","import React, { useContext } from 'react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport { PlaneContext } from '../../contexts/PlaneContextProvider';\n\nconst UnitArtefacts = ({ view, availableArtefacts, selectArtefact, selectedArtefacts, sizeModifier }) => {\n  const selectedPlane = useContext(PlaneContext);\n\n  const filteredArtefacts =\n    availableArtefacts &&\n    availableArtefacts.filter((artefact) => sizeModifier === 'Hero' || artefact.type === 'common');\n\n  const handleSelect = (artefactName, index) => {\n    if (artefactName === 'None') {\n      selectArtefact(null, index);\n    } else {\n      const selectedArtefact = availableArtefacts.find((artefact) => artefact.name === artefactName);\n      selectArtefact({ name: selectedArtefact.name, cost: selectedArtefact.cost[sizeModifier] }, index);\n    }\n  };\n\n  return (\n    <div className=\"unit-artefacts\">\n      {view === 'unitSelect' && (\n        <div className=\"unit-artefacts--select\">\n          <DropdownButton\n            onSelect={(e) => handleSelect(e, 0)}\n            className=\"unit-artefacts__dropdown\"\n            title=\"Artefact\"\n            size=\"sm\"\n          >\n            {filteredArtefacts\n              .sort((a, b) => a.cost[sizeModifier] - b.cost[sizeModifier])\n              .map((artefact) => (\n                <Dropdown.Item\n                  key={artefact.name}\n                  eventKey={artefact.name}\n                  as=\"button\"\n                  className=\"unit-artefacts__dropdown-item\"\n                >\n                  {artefact.name} ({artefact.cost[sizeModifier]}pts)\n                </Dropdown.Item>\n              ))}\n          </DropdownButton>\n          <p>\n            {selectedArtefacts[0] &&\n              `${selectedArtefacts[0].name} (${selectedArtefacts[0] && selectedArtefacts[0].cost}pts)`}\n          </p>\n        </div>\n      )}\n      {selectedPlane && selectedPlane.name === 'The Astral Plane' && sizeModifier === 'Hero' && (\n        <div className=\"unit-artefacts--select\">\n          <DropdownButton\n            onSelect={(e) => handleSelect(e, 1)}\n            className=\"unit-artefacts__dropdown\"\n            title=\"Artefact\"\n            size=\"sm\"\n          >\n            {filteredArtefacts\n              .sort((a, b) => a.cost[sizeModifier] - b.cost[sizeModifier])\n              .map((artefact) => (\n                <Dropdown.Item\n                  key={artefact.name}\n                  eventKey={artefact.name}\n                  as=\"button\"\n                  className=\"unit-artefacts__dropdown-item\"\n                >\n                  {artefact.name} ({artefact.cost[sizeModifier]}pts)\n                </Dropdown.Item>\n              ))}\n          </DropdownButton>\n          <p>\n            {selectedArtefacts[1] &&\n              `${selectedArtefacts[1].name} (${selectedArtefacts[1] && selectedArtefacts[1].cost}pts)`}\n          </p>\n        </div>\n      )}\n      {view === 'armyList' && (\n        <div className=\"unit-artefacts--select\">\n          <p>\n            <span className=\"unit-footer__label\">Artefact{selectedArtefacts.length > 1 ? 's' : ''}: </span>\n            {selectedArtefacts.map((artefact, index) => (\n              <span key={artefact.name}>\n                {artefact.name} ({artefact.cost}pts)\n                {index < selectedArtefacts.length - 1 ? ', ' : ''}\n              </span>\n            ))}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UnitArtefacts;\n","export const enrichArmyDataForHalpisRift = (armyData, planeSpells) => {\n  return armyData.map((army) => {\n    return {\n      ...army,\n      units: army.units.map((unit) => {\n        const spellcasterLevel = unit.spellcaster;\n        const isEligibleForPlaneSpells = spellcasterLevel && !unit.limit;\n        if (isEligibleForPlaneSpells) {\n          const availablePlaneSpells = calculateAvailablePlaneSpells(planeSpells, spellcasterLevel);\n          return { ...unit, options: [...unit.options, ...availablePlaneSpells] };\n        } else {\n          return unit;\n        }\n      }),\n    };\n  });\n};\n\nexport const calculateAvailablePlaneSpells = (planeSpells, spellcasterLevel) => {\n  return planeSpells.reduce((accumulatedSpells, spell) => {\n    spell.levels.forEach((spellLevel) => {\n      if (spellLevel.level <= spellcasterLevel)\n        accumulatedSpells.push({\n          name: spell.name,\n          cost: spellLevel.cost,\n          limit: spell.limit,\n          spellLevel: spellLevel.level,\n          nValue: spellLevel.n,\n        });\n    });\n    return accumulatedSpells;\n  }, []);\n};\n","import React, { useContext } from 'react';\nimport UnitOptions from './UnitOptions';\nimport UnitArtefacts from './UnitArtefacts';\nimport { PlaneContext } from '../../contexts/PlaneContextProvider';\nimport { calculateAvailablePlaneSpells } from '../../helpers/parse-halpi';\n\nconst UnitFooter = ({ unit, view, selectOption, deselectOption, selectArtefact, availableArtefacts }) => {\n  const selectedPlane = useContext(PlaneContext);\n\n  const enrichedAvailableArtefacts =\n    availableArtefacts && selectedPlane ? [...availableArtefacts, ...selectedPlane.artefacts] : availableArtefacts;\n\n  const pointyWizardsHatSpells =\n    selectedPlane &&\n    [...calculateAvailablePlaneSpells(selectedPlane.spells, unit.unitDetails.spellcaster + 1)].filter(\n      (spell) =>\n        !unit.unitDetails.options.find((allocatedSpell) => {\n          return allocatedSpell.nValue\n            ? allocatedSpell.name === spell.name && allocatedSpell.nValue === spell.nValue\n            : allocatedSpell.name === spell.name;\n        })\n    );\n\n  let enrichedOptions = unit.unitDetails.options;\n  if (\n    selectedPlane &&\n    !unit.unitDetails.limit &&\n    unit.selectedArtefacts.find((artefact) => artefact.name === \"Pointy Wizard's Hat\")\n  ) {\n    enrichedOptions = [...unit.unitDetails.options, ...pointyWizardsHatSpells];\n  }\n\n  const handleSelectArtefact = (artefact, index) => {\n    if (pointyWizardsHatSpells) {\n      const selectedPointyWizardsHatSpells = unit.selectedOptions.filter((option) =>\n        pointyWizardsHatSpells.find((spell) => spell.name === option.name && spell.nValue === option.nValue)\n      );\n      const isSelectingNonPointyHatArtefactAtIndex =\n        unit.selectedArtefacts[index] &&\n        unit.selectedArtefacts[index].name === \"Pointy Wizard's Hat\" &&\n        (!artefact || artefact.name !== \"Pointy Wizard's Hat\");\n      if (selectedPointyWizardsHatSpells.length && isSelectingNonPointyHatArtefactAtIndex) {\n        selectedPointyWizardsHatSpells.forEach(async (spell) => {\n          deselectOption(spell);\n        });\n      }\n    }\n    selectArtefact(artefact, index);\n  };\n\n  const splitSpecialRules = unit.unitDetails.specialRules.includes('\\\\n') ?\n    unit.unitDetails.specialRules.split('\\\\n').map((ruleSection, i) => {\n      if (i < unit.unitDetails.specialRules.split('\\\\n').length - 1) return [<span>{ruleSection}</span>,<br/>]\n      return <span>{ruleSection}</span>;\n    }) :\n    unit.unitDetails.specialRules\n\n  return (\n    <div className=\"unit-footer\">\n      <div className=\"unit-footer__special\">\n        <p>\n          <span className=\"unit-footer__label\">Special: </span>\n          {splitSpecialRules}\n        </p>\n        <p>\n          <span className=\"unit-footer__label\">Keywords: </span>\n          {unit.unitDetails.keywords}\n        </p>\n        {(unit.unitDetails.spellcaster || unit.unitDetails.spellcaster === 0) && (\n          <p>\n            <span className=\"unit-footer__label\">Spellcaster: </span>\n            {unit.unitDetails.spellcaster}\n          </p>\n        )}\n        {view === 'factionUnitsIndex' && unit.unitDetails.options.length ? (\n          <UnitOptions possibleOptions={unit.unitDetails.options} view={view} />\n        ) : null}\n        {view === 'armyList' && unit.selectedOptions.length ? (\n          <UnitOptions selectedOptions={unit.selectedOptions} view={view} />\n        ) : null}\n        {view === 'unitSelect' &&\n        (unit.unitDetails.options.length ||\n          (pointyWizardsHatSpells &&\n            !unit.unitDetails.limit &&\n            unit.selectedArtefacts.find((artefact) => artefact.name === \"Pointy Wizard's Hat\"))) ? (\n          <UnitOptions\n            possibleOptions={enrichedOptions}\n            selectedOptions={unit.selectedOptions}\n            view={view}\n            selectOption={selectOption}\n            deselectOption={deselectOption}\n          />\n        ) : null}\n        {view === 'armyList' && unit.selectedArtefacts.length ? (\n          <UnitArtefacts selectedArtefacts={unit.selectedArtefacts} view={view} />\n        ) : null}\n        {view === 'unitSelect' &&\n          !['Monster', 'War Engine', 'Titan'].includes(unit.unitDetails.size) &&\n          !unit.unitDetails.limit && (\n            <UnitArtefacts\n              artefactsLimit={1}\n              availableArtefacts={enrichedAvailableArtefacts}\n              selectedArtefacts={unit.selectedArtefacts}\n              view={view}\n              selectArtefact={(a, i) => handleSelectArtefact(a, i)}\n              sizeModifier={unit.unitDetails.size}\n            />\n          )}\n      </div>\n    </div>\n  );\n};\n\nexport default UnitFooter;\n","import React from 'react';\nimport UnitHeader from './UnitHeader.js';\nimport UnitTable from './UnitTable.js';\nimport UnitFooter from './UnitFooter.js';\n\nconst MultiUnitRow = ({ units, addUnit, view }) => {\n  return (\n    <div className=\"multi-unit-row\">\n      <UnitHeader unit={units[0]} displayHeaderCost={false} />\n      <UnitTable units={units} addUnit={addUnit} displayAddButton={true} />\n      <UnitFooter unit={units[0]} view={view} />\n    </div>\n  );\n};\n\nexport default MultiUnitRow;\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nconst ButtonRow = ({ children, sticky }) => {\n  const childButtons = Array.isArray(children) ? children.filter((child) => child) : [children];\n\n  return (\n    <Container className={`d-print-none button-row__container${sticky ? '--sticky' : ''}`}>\n      <Row className=\"button-row__row\" noGutters={true}>\n        {childButtons.map((childButton, i) => {\n          return (\n            <Col xs={true} lg={false} className=\"button-row__column\" key={i}>\n              {childButton}\n            </Col>\n          );\n        })}\n      </Row>\n    </Container>\n  );\n};\n\nexport default ButtonRow;\n","import React, { useState } from 'react';\nimport MultiUnit from 'components/unit/MultiUnit';\nimport Button from 'components/common/Button';\nimport ButtonRow from 'components/common/ButtonRow';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n\nconst FactionUnitsIndex = ({\n  army,\n  goToDisplay,\n  selectUnit,\n  selectArmy,\n  fromArmyList,\n  displaySelectOtherArmy,\n  defaultTab,\n  setLastTab,\n}) => {\n  // All the units in the selected faction\n\n  const handleClickAdd = (unit) => {\n    selectUnit(unit);\n    selectArmy(army.name);\n    goToDisplay('unitSelect');\n    window.scrollTo(0, 0);\n  };\n\n  const mergedFactionList = [];\n  army.units.forEach((unit) => {\n    const mergedUnitIndex = mergedFactionList.findIndex((unitArr) => unitArr[0].name === unit.name);\n    if (mergedUnitIndex === -1) {\n      mergedFactionList.push([unit]);\n    } else {\n      mergedFactionList[mergedUnitIndex].push(unit);\n    }\n  });\n\n  const filterUnitsByLabel = (label) => {\n    const typesDict = {\n      'Inf/HI': ['Infantry', 'Heavy Infantry'],\n      'Cav/Cht/LC': ['Cavalry', 'Chariot', 'Large Cavalry'],\n      'Sw/LI/MI': ['Swarm', 'Large Infantry', 'Monstrous Infantry'],\n    };\n    const sizesDict = {\n      Hero: ['Hero'],\n      WE: ['War Engine'],\n      'Mon/Tit': ['Monster', 'Titan'],\n    };\n    return [...mergedFactionList].filter((unitArr) => {\n      if (typesDict[label]) {\n        return (\n          typesDict[label].includes(unitArr[0].type) &&\n          !['Hero', 'War Engine', 'Monster', 'Titan'].includes(unitArr[0].size)\n        );\n      } else {\n        return sizesDict[label].includes(unitArr[0].size);\n      }\n    });\n  };\n\n  const [filteredMergedUnits, setFilteredMergedUnits] = useState(filterUnitsByLabel(defaultTab));\n\n  const handleDisplayOtherArmy = () => {\n    goToDisplay('armiesIndex');\n    window.scrollTo(0, 0);\n  };\n\n  const handleSelectTab = (label) => {\n    setFilteredMergedUnits(filterUnitsByLabel(label));\n    setLastTab(label);\n  };\n\n  return (\n    <section className=\"units-index\">\n      {displaySelectOtherArmy && (\n        <ButtonRow sticky={false}>\n          <Button text=\"Select other army\" onClick={handleDisplayOtherArmy} />\n        </ButtonRow>\n      )}\n      <Tabs className=\"units-index__tabs\" onSelect={handleSelectTab} variant=\"tabs\" defaultActiveKey={defaultTab}>\n        {['Inf/HI', 'Cav/Cht/LC', 'Sw/LI/MI', 'Hero', 'WE', 'Mon/Tit'].map((unitType) => {\n          return (\n            <Tab className=\"units-index__tab\" eventKey={unitType} title={unitType} key={unitType}>\n              {filteredMergedUnits.length ? (\n                filteredMergedUnits.map((unitArr, index) => {\n                  return (\n                    <MultiUnit\n                      units={unitArr.map((unit) => ({\n                        unitDetails: { ...unit },\n                        selectedOptions: [],\n                        unitCost: unit.cost,\n                        selectedArtefacts: [],\n                      }))}\n                      addUnit={handleClickAdd}\n                      key={unitArr[0].name}\n                      view={'factionUnitsIndex'}\n                    />\n                  );\n                })\n              ) : (\n                <p>No units of this type in faction</p>\n              )}\n              {}\n            </Tab>\n          );\n        })}\n      </Tabs>\n      <ButtonRow sticky={true}>\n        <Button\n          text=\"Cancel\"\n          onClick={() => goToDisplay(fromArmyList ? 'armyList' : 'armiesIndex')}\n          variant=\"warning\"\n        />\n      </ButtonRow>\n    </section>\n  );\n};\n\nexport default FactionUnitsIndex;\n","import React from 'react';\nimport UnitHeader from './UnitHeader';\nimport UnitTable from './UnitTable';\nimport UnitFooter from './UnitFooter';\n\nconst Unit = ({\n  unit,\n  displayEditButton,\n  handleClickEdit,\n  view,\n  selectOption,\n  deselectOption,\n  selectArtefact,\n  availableArtefacts,\n}) => {\n  return (\n    <div className=\"unit-row\">\n      <UnitHeader unit={unit} displayEditButton={displayEditButton} handleClickEdit={handleClickEdit} />\n      <UnitTable units={[unit]} />\n      <UnitFooter\n        unit={unit}\n        view={view}\n        selectOption={selectOption}\n        deselectOption={deselectOption}\n        selectArtefact={selectArtefact}\n        availableArtefacts={availableArtefacts}\n      />\n    </div>\n  );\n};\n\nexport default Unit;\n","import React, { useState } from 'react';\nimport Unit from 'components/unit/Unit';\nimport Button from 'components/common/Button';\nimport ButtonRow from 'components/common/ButtonRow';\n\nconst UnitSelect = ({\n  unit,\n  armyName,\n  goToDisplay,\n  handleAddUnitToListWithArmyAndUnit,\n  editingUnit,\n  editUnit,\n  deleteUnit,\n  deleteConfirm,\n  availableArtefacts,\n}) => {\n  const [enrichedUnit, setEnrichedUnit] = useState(\n    editingUnit && !unit.unitDetails\n      ? { unitDetails: { ...unit }, selectedOptions: [], unitCost: unit.cost, selectedArtefacts: [] }\n      : { ...unit }\n  );\n\n  const handleCancelClick = () => {\n    goToDisplay(editingUnit ? 'armyList' : 'factionUnitsIndex');\n    window.scrollTo(0, 0);\n  };\n\n  const handleSaveClick = () => {\n    editingUnit ? editUnit(enrichedUnit) : handleAddUnitToListWithArmyAndUnit(armyName, enrichedUnit);\n  };\n\n  const handleSelectOption = (option) => {\n    setEnrichedUnit((previousEnrichedUnit) => ({\n      ...previousEnrichedUnit,\n      selectedOptions: [...previousEnrichedUnit.selectedOptions, option],\n      unitCost:\n        previousEnrichedUnit.unitDetails.cost +\n        [...previousEnrichedUnit.selectedOptions, option].reduce((sum, o) => sum + o.cost, 0) +\n        [...previousEnrichedUnit.selectedArtefacts].reduce((sum, a) => sum + a.cost, 0),\n    }));\n  };\n\n  const handleDeselectOption = (option) => {\n    setEnrichedUnit((previousEnrichedUnit) => {\n      return {\n        ...previousEnrichedUnit,\n        selectedOptions: previousEnrichedUnit.selectedOptions.filter((selectedOption) => {\n          return selectedOption.nValue\n            ? selectedOption.nValue !== option.nValue && selectedOption.name === option.name\n            : selectedOption.name !== option.name;\n        }),\n        unitCost:\n          previousEnrichedUnit.unitDetails.cost +\n          previousEnrichedUnit.selectedOptions\n            .filter((selectedOption) => {\n              return selectedOption.nValue\n                ? selectedOption.nValue !== option.nValue && selectedOption.name === option.name\n                : selectedOption.name !== option.name;\n            })\n            .reduce((sum, o) => sum + o.cost, 0) +\n          [...previousEnrichedUnit.selectedArtefacts].reduce((sum, a) => sum + a.cost, 0),\n      };\n    });\n  };\n\n  const handleSelectArtefact = (artefact, index) => {\n    setEnrichedUnit((previousEnrichedUnit) => {\n      if (!artefact) {\n        previousEnrichedUnit.selectedArtefacts.splice(index, 1);\n      } else {\n        previousEnrichedUnit.selectedArtefacts[index] = artefact;\n      }\n      return {\n        ...previousEnrichedUnit,\n        unitCost:\n          previousEnrichedUnit.unitDetails.cost +\n          previousEnrichedUnit.selectedOptions.reduce((sum, o) => sum + o.cost, 0) +\n          [...previousEnrichedUnit.selectedArtefacts].reduce((sum, a) => sum + a.cost, 0),\n      };\n    });\n  };\n\n  const unitDetails = unit.unitDetails ? unit.unitDetails : unit;\n\n  const handleGoToDeleteConfirm = () => {\n    goToDisplay('deleteConfirm');\n    window.scrollTo(0, 0);\n  };\n\n  const handleGoToUnitSelect = () => {\n    goToDisplay('unitSelect');\n    window.scrollTo(0, 0);\n  };\n\n  if (!deleteConfirm) {\n    return (\n      <section className=\"unit-select\">\n        <Unit\n          unit={enrichedUnit}\n          displayEditButton={false}\n          view=\"unitSelect\"\n          selectOption={handleSelectOption}\n          deselectOption={handleDeselectOption}\n          selectArtefact={handleSelectArtefact}\n          availableArtefacts={availableArtefacts}\n        />\n        <ButtonRow sticky={true}>\n          <Button text=\"Save\" onClick={handleSaveClick} variant=\"success\" />\n          {editingUnit ? <Button text=\"Delete\" onClick={handleGoToDeleteConfirm} variant=\"danger\" /> : null}\n          <Button text=\"Cancel\" onClick={handleCancelClick} variant=\"warning\" />\n        </ButtonRow>\n      </section>\n    );\n  } else {\n    return (\n      <section className=\"delete-confirm\">\n        <div className=\"delete-confirm__container\">\n          <p className=\"h6\">Delete this unit?</p>\n          <p className=\"h5\">{unitDetails.name}</p>\n        </div>\n        <ButtonRow sticky={true}>\n          <Button text=\"Delete\" onClick={() => deleteUnit(unit)} variant=\"danger\" />\n          <Button text=\"Cancel\" onClick={handleGoToUnitSelect} variant=\"warning\" />\n        </ButtonRow>\n      </section>\n    );\n  }\n};\n\nexport default UnitSelect;\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\n\nconst Banner = ({ text }) => {\n  return (\n    <Alert variant=\"danger\" className=\"banner\">\n      <p>{text}</p>\n    </Alert>\n  );\n};\n\nexport default Banner;\n","import React from 'react';\nimport Banner from 'components/common/Banner';\n\nconst UnlocksBanner = ({ armyName = null, unallocated = {} }) => {\n  const tooManyHWMT = unallocated[armyName] && unallocated[armyName].hwmt;\n  const tooManyTroopsOrIrregular = unallocated[armyName] && unallocated[armyName].troopOrIrregular;\n\n  return (\n    <div className=\"unlocks-banner\">\n      {tooManyHWMT && (\n        <Banner text=\"Not enough unlocks for the amount of Heroes/War Engines/Monsters/Titans in your list\" />\n      )}\n      {tooManyTroopsOrIrregular && (\n        <Banner text=\"Not enough unlocks for the amount of Troops or Irregular Units in your list\" />\n      )}\n    </div>\n  );\n};\n\nexport default UnlocksBanner;\n","import React from 'react';\nimport Banner from 'components/common/Banner';\n\nconst DuplicatesAndLimitsBanner = ({ tooManyDuplicates = null, overLimits = null, artefactDuplicates = null }) => {\n  return (\n    <div className=\"duplicates-and-limits-banner\">\n      {tooManyDuplicates && (\n        <Banner text=\"Too many Heroes/War Engines/Monsters/Titans of the same type for the current points total\" />\n      )}\n      {overLimits && (\n        <Banner text=\"You are over your limit on one or more living legend units, or units with the same unique upgrade or spell\" />\n      )}\n      {artefactDuplicates && <Banner text=\"Too many units with the same artefact\" />}\n    </div>\n  );\n};\n\nexport default DuplicatesAndLimitsBanner;\n","import React from 'react';\nimport Unit from 'components/unit/Unit';\nimport Button from 'components/common/Button';\nimport ButtonRow from 'components/common/ButtonRow';\nimport UnlocksBanner from 'components/UnlocksBanner';\nimport DuplicatesBanner from 'components/DuplicatesBanner';\n\nconst ArmyList = ({\n  armyList,\n  goToDisplay,\n  setFromArmyList,\n  selectUnit,\n  unallocated,\n  points,\n  tooManyDuplicates,\n  overLimits,\n  artefactDuplicates,\n}) => {\n  // The list the user has been building\n\n  const handleAddUnitClick = () => {\n    goToDisplay('factionUnitsIndex');\n    window.scrollTo(0, 0);\n    setFromArmyList(true);\n  };\n\n  const handleEditUnitClick = (unit) => {\n    selectUnit(unit);\n    goToDisplay('unitSelect');\n    window.scrollTo(0, 0);\n    setFromArmyList(true);\n  };\n\n  return (\n    <section className=\"army-list\">\n      {armyList.map((faction) => (\n        <UnlocksBanner key={faction.name} armyName={faction.name} unallocated={unallocated} />\n      ))}\n      <DuplicatesBanner\n        tooManyDuplicates={tooManyDuplicates}\n        overLimits={overLimits}\n        artefactDuplicates={artefactDuplicates}\n      />\n      {armyList.map((faction) => {\n        return (\n          <div key={faction.name}>\n            <div className=\"army-list__header\">\n              <h2 className=\"army-list__section-heading\">{faction.name}</h2>\n              <p className=\"army-list__points\">{points[faction.name]} points</p>\n            </div>\n            {faction.units.map((unit) => {\n              return (\n                <Unit\n                  unit={unit}\n                  key={unit.unitId}\n                  displayEditButton={true}\n                  handleClickEdit={() => handleEditUnitClick(unit)}\n                  view={'armyList'}\n                />\n              );\n            })}\n          </div>\n        );\n      })}\n      <ButtonRow sticky={true}>\n        <Button text=\"Add another unit\" onClick={handleAddUnitClick} variant=\"success\" />\n      </ButtonRow>\n    </section>\n  );\n};\n\nexport default ArmyList;\n","import React from 'react';\nimport Button from 'components/common/Button';\nimport ButtonRow from 'components/common/ButtonRow';\n\nconst ArmiesIndex = ({ armies, handleArmyButtonClick, halpi = false, goToDisplay }) => {\n  const filterAndChunk = (filterString) => {\n    const filteredArmies = armies.filter((army) => army.alignment === filterString);\n    const arrayOfArmyArrays = [];\n    filteredArmies.forEach((army, i) => {\n      if (i % 3 === 0) {\n        arrayOfArmyArrays.push([army]);\n      } else {\n        arrayOfArmyArrays[arrayOfArmyArrays.length - 1].push(army);\n      }\n    });\n    return arrayOfArmyArrays;\n  };\n  return (\n    <section className=\"armies-index\">\n      {['Good', 'Neutral', 'Evil']\n        .map((alignmentString) => filterAndChunk(alignmentString))\n        .flat()\n        .map((armyArr, i) => {\n          return (\n            <ButtonRow className=\"armies-index__button-row\" key={i}>\n              {armyArr.map((army) => (\n                <Button\n                  text={army.name}\n                  onClick={() => handleArmyButtonClick(army.name)}\n                  key={army.name}\n                  variant={{ Good: 'success', Neutral: 'warning', Evil: 'danger' }[army.alignment]}\n                />\n              ))}\n            </ButtonRow>\n          );\n        })}\n      {halpi && (\n        <ButtonRow sticky={true}>\n          <Button text=\"Cancel\" onClick={() => goToDisplay('planesIndex')} variant=\"warning\" />\n        </ButtonRow>\n      )}\n    </section>\n  );\n};\n\nexport default ArmiesIndex;\n","import React from 'react';\nimport Button from 'components/common/Button';\nimport ButtonRow from 'components/common/ButtonRow';\n\nconst PlanesIndex = ({ planes, handlePlaneButtonClick }) => {\n  return (\n    <main className=\"planes-index\">\n      {planes.map((plane) => (\n        <ButtonRow className=\"planes-index__button-row\" key={plane.name}>\n          <Button\n            text={plane.name}\n            onClick={() => handlePlaneButtonClick(plane.name)}\n            variant={\n              {\n                'The Empyrean Plane': 'success',\n                'The Ethereal Plane': 'dark',\n                'The Material Plane': 'warning',\n                'The Abyssal Plane': 'danger',\n                'The Astral Plane': 'primary',\n              }[plane.name]\n            }\n          />\n        </ButtonRow>\n      ))}\n    </main>\n  );\n};\n\nexport default PlanesIndex;\n","const unlockAmounts = {\n  Infantry: {\n    Regiment: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 1,\n    },\n    Horde: {\n      troopOrIrregular: 4,\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n    Legion: {\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n  },\n  'Heavy Infantry': {\n    Regiment: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 1,\n    },\n    Horde: {\n      troopOrIrregular: 4,\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n    Legion: {\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n  },\n  Chariot: {\n    Regiment: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 1,\n    },\n    Horde: {\n      troopOrIrregular: 4,\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n    Legion: {\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n  },\n  Cavalry: {\n    Regiment: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 1,\n    },\n    Horde: {\n      troopOrIrregular: 4,\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n    Legion: {\n      monsterOrTitan: 1,\n      hero: 1,\n      warEngine: 1,\n    },\n  },\n  'Large Infantry': {\n    Horde: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n    Legion: {\n      troopOrIrregular: 4,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n  },\n  'Monstrous Infantry': {\n    Horde: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n    Legion: {\n      troopOrIrregular: 4,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n  },\n  'Large Cavalry': {\n    Horde: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n    Legion: {\n      troopOrIrregular: 4,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n  },\n  'Swarm': {\n    Horde: {\n      troopOrIrregular: 2,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n    Legion: {\n      troopOrIrregular: 4,\n      heroMonsterTitanOrWarEngineUnique: 2,\n    },\n  },\n};\n\nconst calculateUnallocated = (unitsArr) => {\n  const unallocated = {\n    troopOrIrregular: null,\n    hwmt: null,\n  };\n  const unitDetailsArr = unitsArr.map((unit) => unit.unitDetails);\n  const troopsAndIrregularUnits = unitDetailsArr.filter((unit) => unit.irregular || unit.size === 'Troop');\n  const heroes = unitDetailsArr.filter((unit) => unit.size === 'Hero');\n  const warEngines = unitDetailsArr.filter((unit) => unit.size === 'War Engine');\n  const monsters = unitDetailsArr.filter((unit) => unit.size === 'Monster');\n  const titans = unitDetailsArr.filter((unit) => unit.size === 'Titan');\n\n  const unitsWithSlots = unitDetailsArr.map((unit) => {\n    if (!unit.irregular && unlockAmounts[unit.type] && unlockAmounts[unit.type][unit.size]) {\n      return { ...unit, unlocks: { ...(unlockAmounts[unit.type] && unlockAmounts[unit.type][unit.size]) } };\n    }\n    return unit;\n  });\n\n  troopsAndIrregularUnits.forEach((troopIrreg) => {\n    let hasBeenAllocated = false;\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && unit.unlocks.troopOrIrregular) {\n          unit.unlocks.troopOrIrregular--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) unallocated.troopOrIrregular = true;\n  });\n\n  heroes.forEach((hero) => {\n    let hasBeenAllocated = false;\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && unit.unlocks.hero) {\n          unit.unlocks.hero--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) {\n      unitsWithSlots.forEach((unit) => {\n        if (!hasBeenAllocated) {\n          if (unit.unlocks && unit.unlocks.heroMonsterTitanOrWarEngineUnique) {\n            unit.unlocks.nonHero = unit.unlocks.heroMonsterTitanOrWarEngineUnique - 1;\n            delete unit.unlocks.heroMonsterTitanOrWarEngineUnique;\n            hasBeenAllocated = true;\n          }\n        }\n      });\n    }\n    if (!hasBeenAllocated) unallocated.hwmt = true;\n  });\n\n  warEngines.forEach((warEngine) => {\n    let hasBeenAllocated = false;\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && unit.unlocks.warEngine) {\n          unit.unlocks.warEngine--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) {\n      unitsWithSlots.forEach((unit) => {\n        if (!hasBeenAllocated) {\n          if (unit.unlocks && unit.unlocks.heroMonsterTitanOrWarEngineUnique) {\n            unit.unlocks.nonWarEngine = unit.unlocks.heroMonsterTitanOrWarEngineUnique - 1;\n            delete unit.unlocks.heroMonsterTitanOrWarEngineUnique;\n            hasBeenAllocated = true;\n          }\n        }\n      });\n    }\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && unit.unlocks.nonHero) {\n          unit.unlocks.nonHero--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) unallocated.hwmt = true;\n  });\n\n  monsters.forEach((monster) => {\n    let hasBeenAllocated = false;\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && unit.unlocks.monsterOrTitan) {\n          unit.unlocks.monsterOrTitan--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n\n    if (!hasBeenAllocated) {\n      unitsWithSlots.forEach((unit) => {\n        if (!hasBeenAllocated) {\n          if (unit.unlocks && unit.unlocks.heroMonsterTitanOrWarEngineUnique) {\n            unit.unlocks.nonMonster = unit.unlocks.heroMonsterTitanOrWarEngineUnique - 1;\n            delete unit.unlocks.heroMonsterTitanOrWarEngineUnique;\n            hasBeenAllocated = true;\n          }\n        }\n      });\n    }\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && (unit.unlocks.nonHero || unit.unlocks.nonWarEngine)) {\n          unit.unlocks.nonHero--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) unallocated.hwmt = true;\n  });\n\n  titans.forEach((titan) => {\n    let hasBeenAllocated = false;\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && unit.unlocks.monsterOrTitan) {\n          unit.unlocks.monsterOrTitan--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) {\n      unitsWithSlots.forEach((unit) => {\n        if (!hasBeenAllocated) {\n          if (unit.unlocks && unit.unlocks.heroMonsterTitanOrWarEngineUnique) {\n            unit.unlocks.nonTitan = unit.unlocks.heroMonsterTitanOrWarEngineUnique - 1;\n            delete unit.unlocks.heroMonsterTitanOrWarEngineUnique;\n            hasBeenAllocated = true;\n          }\n        }\n      });\n    }\n    unitsWithSlots.forEach((unit) => {\n      if (!hasBeenAllocated) {\n        if (unit.unlocks && (unit.unlocks.nonHero || unit.unlocks.nonWarEngine || unit.unlocks.nonMonster)) {\n          unit.unlocks.nonHero--;\n          hasBeenAllocated = true;\n        }\n      }\n    });\n    if (!hasBeenAllocated) unallocated.hwmt = true;\n  });\n\n  // const unlocks = unitsWithSlots.reduce(\n  //   (unlocksObj, unit) => {\n  //     unit.unlocks &&\n  //       Object.keys(unit.unlocks).forEach((unlockLabel) => {\n  //         switch (unlockLabel) {\n  //           case 'troopOrIrregular':\n  //             unlocksObj.troopOrIrregular = unlocksObj.troopOrIrregular || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           case 'hero':\n  //             unlocksObj.hero = unlocksObj.hero || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           case 'warEngine':\n  //             unlocksObj.warEngine = unlocksObj.warEngine || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           case 'monster':\n  //             unlocksObj.monster = unlocksObj.monster || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           case 'titan':\n  //             unlocksObj.titan = unlocksObj.titan || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           case 'monsterOrTitan':\n  //             unlocksObj.monster = unlocksObj.monster || !!unit.unlocks[unlockLabel];\n  //             unlocksObj.titan = unlocksObj.titan || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           case 'heroMonsterTitanOrWarEngineUnique':\n  //             unlocksObj.hero = unlocksObj.hero || !!unit.unlocks[unlockLabel];\n  //             unlocksObj.warEngine = unlocksObj.warEngine || !!unit.unlocks[unlockLabel];\n  //             unlocksObj.monster = unlocksObj.monster || !!unit.unlocks[unlockLabel];\n  //             unlocksObj.titan = unlocksObj.titan || !!unit.unlocks[unlockLabel];\n  //             break;\n  //           default:\n  //             console.log('in default in unlock switch statement');\n  //         }\n  //       });\n  //     return unlocksObj;\n  //   },\n  //   {\n  //     troopOrIrregular: false,\n  //     hero: false,\n  //     warEngine: false,\n  //     monster: false,\n  //     titan: false,\n  //   }\n  // );\n  return unallocated;\n};\n\nexport default calculateUnallocated;\n","const calculatePointsTotal = (unitsArr) => {\n  return unitsArr.reduce((total, unit) => {\n    total += unit.unitCost;\n    return total;\n  }, 0);\n};\n\nexport default calculatePointsTotal;\n","const types = ['Hero', 'War Engine', 'Monster', 'Titan'];\n\nconst calculateDuplicates = (pointsTotal, units) => {\n  const maxOfAnyHMWT = pointsTotal < 1500 ? 1 : Math.floor(pointsTotal / 1000) + 1;\n  return units.reduce((isTooMany, unit) => {\n    return (\n      isTooMany ||\n      (types.includes(unit.unitDetails.size) &&\n        units.filter((u) => u.unitDetails.name === unit.unitDetails.name).length > maxOfAnyHMWT)\n    );\n  }, false);\n};\n\nexport default calculateDuplicates;\n","const calculateDuplicateArtefacts = (units) => {\n  const artefacts = {};\n  units.forEach((unit) => {\n    unit.selectedArtefacts.forEach((artefact) => {\n      if (artefacts[artefact.name]) {\n        artefacts[artefact.name]++;\n      } else {\n        artefacts[artefact.name] = 1;\n      }\n    });\n  });\n  return !!Object.values(artefacts).filter((number) => number > 1).length;\n};\n\nexport default calculateDuplicateArtefacts;\n","const calculateUnitLimits = (units) => {\n  return units.reduce((overLimit, unit) => {\n    const limitedOption = unit.selectedOptions.find((option) => option.limit);\n    return (\n      overLimit ||\n      (unit.unitDetails.limit &&\n        units.filter((u) => u.unitDetails.name === unit.unitDetails.name).length > unit.unitDetails.limit) ||\n      (limitedOption &&\n        units.filter(\n          (u) =>\n            u.unitDetails.name === unit.unitDetails.name &&\n            u.selectedOptions.find((selectedOption) => limitedOption.name === selectedOption.name)\n        ).length > limitedOption.limit)\n    );\n  }, false);\n};\n\nexport default calculateUnitLimits;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport FactionUnitsIndex from 'components/views/FactionUnitsIndex';\nimport UnitSelect from 'components/views/UnitSelect';\nimport ArmyList from 'components/views/ArmyList';\nimport ArmiesIndex from 'components/views/ArmiesIndex';\nimport PlanesIndex from 'components/views/PlanesIndex';\nimport { PlaneContextProvider } from 'contexts/PlaneContextProvider';\nimport { v4 as uuidv4 } from 'uuid';\nimport armiesData from '../../data/armies.json';\nimport halpiPlanesData from '../../data/halpi-planes.json';\nimport artefacts from '../../data/artefacts.json';\nimport halpiArtefacts from '../../data/halpi-artefacts.json';\nimport calculateUnallocated from '../../helpers/unlocks';\nimport calculatePointsTotal from '../../helpers/points';\nimport calculateDuplicates from '../../helpers/duplicates';\nimport calculateDuplicateArtefacts from '../../helpers/artefacts';\nimport { enrichArmyDataForHalpisRift } from '../../helpers/parse-halpi';\nimport calculateUnitLimits from '../../helpers/limits';\nimport { Link } from 'react-router-dom';\n\nconst Index = ({ type = 'standard' }) => {\n  const [armies, setArmies] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [display, setDisplay] = useState(type === 'halpi' ? 'planesIndex' : 'armiesIndex');\n  const [selectedPlane, setSelectedPlane] = useState(null);\n  const [selectedArmy, setSelectedArmy] = useState(null);\n  const [selectedUnit, setSelectedUnit] = useState(null);\n  const [fromArmyList, setFromArmyList] = useState(null);\n  const [unallocated, setUnallocated] = useState({});\n  const [points, setPoints] = useState({});\n  const [tooManyDuplicates, setTooManyDuplicates] = useState(null);\n  const [overLimits, setOverLimits] = useState(null);\n  const [artefactDuplicates, setArtefactDuplicates] = useState(null);\n  const [lastTab, setLastTab] = useState(null);\n\n  const initialArmyListState = [];\n\n  const addUnitToListDispatchFunction = (armyListState, action) => {\n    const armyListIndex = armyListState.findIndex((armyList) => armyList.name === action.armyName);\n    const selectedUnit = {\n      unitId: action.unitId,\n      unitDetails: action.unit.unitDetails,\n      selectedOptions: action.unit.selectedOptions,\n      selectedArtefacts: action.unit.selectedArtefacts,\n      unitCost: action.unit.unitCost,\n      armyName: action.armyName,\n    };\n    if (armyListIndex === -1) {\n      return [...armyListState, { name: action.armyName, units: [selectedUnit] }];\n    } else {\n      return armyListState.map((army, index) => {\n        if (index !== armyListIndex) return army;\n        return {\n          ...army,\n          units: [...army.units, selectedUnit],\n        };\n      });\n    }\n    // still need to set limits on number of living legends and living legend upgrades\n  };\n\n  const editUnitDispatchFunction = (armyListState, action) => {\n    const armyListIndex = armyListState.findIndex((armyList) => armyList.name === action.unit.armyName);\n    return armyListState.map((army, index) => {\n      if (index !== armyListIndex) return army;\n      return {\n        ...army,\n        units: army.units.map((unit) => {\n          if (unit.unitId !== action.unit.unitId) return unit;\n          return action.unit;\n        }),\n      };\n    });\n  };\n\n  const deleteUnitDispatchFunction = (armyListState, action) => {\n    const armyListIndex = armyListState.findIndex((armyList) => armyList.name === action.unit.armyName);\n    const newArmylistState = armyListState.map((army, index) => {\n      if (index !== armyListIndex) return army;\n      return {\n        ...army,\n        units: army.units.filter((unit) => unit.unitId !== action.unit.unitId),\n      };\n    });\n    const emptyArmy = newArmylistState.find((army) => army.units.length === 0);\n    if (emptyArmy && selectedArmy === emptyArmy.name) {\n      setFromArmyList(false);\n      setSelectedArmy(null);\n      setDisplay('armiesIndex');\n      window.scrollTo(0, 0);\n    }\n    return newArmylistState.filter((army) => army.units.length !== 0);\n  };\n\n  const reducer = (armyListState, action) => {\n    switch (action.type) {\n      case 'addUnitToList':\n        return addUnitToListDispatchFunction(armyListState, action);\n      case 'editUnit':\n        return editUnitDispatchFunction(armyListState, action);\n      case 'deleteUnit':\n        return deleteUnitDispatchFunction(armyListState, action);\n      default:\n        throw new Error();\n    }\n  };\n  const [armyListState, dispatch] = useReducer(reducer, initialArmyListState);\n\n  const init = () => {\n    setIsLoaded(true);\n    setArmies(armiesData);\n    window.scrollTo(0, 0);\n  };\n\n  const processUnlocks = () => {\n    const unallocated = armyListState.reduce((unallocatedObj, army) => {\n      unallocatedObj[army.name] = calculateUnallocated(army.units);\n      return unallocatedObj;\n    }, {});\n    setUnallocated(unallocated);\n  };\n\n  const processPoints = () => {\n    const points = armyListState.reduce((pointsObj, army) => {\n      pointsObj[army.name] = calculatePointsTotal(army.units);\n      return pointsObj;\n    }, {});\n    setPoints(points);\n    return points;\n  };\n\n  const processDuplicates = (newPoints) => {\n    const pointsTotal = Object.keys(newPoints).reduce((sum, key) => {\n      return (sum += newPoints[key]);\n    }, 0);\n    const isTooManyDuplicates = calculateDuplicates(\n      pointsTotal,\n      armyListState.reduce((flattenedUnits, army) => {\n        return [...flattenedUnits, ...army.units];\n      }, [])\n    );\n    setTooManyDuplicates(isTooManyDuplicates);\n  };\n\n  const processLimits = () => {\n    const flattenedUnits = armyListState.reduce((unitsArr, army) => {\n      return [...unitsArr, ...army.units];\n    }, []);\n    const overLimits = calculateUnitLimits(flattenedUnits);\n    setOverLimits(overLimits);\n  };\n\n  const processArtefacts = () => {\n    const flattenedUnits = armyListState.reduce((unitsArr, army) => {\n      return [...unitsArr, ...army.units];\n    }, []);\n    const overLimit = calculateDuplicateArtefacts(flattenedUnits);\n    setArtefactDuplicates(overLimit);\n  };\n\n  useEffect(init, []);\n  useEffect(() => {\n    processUnlocks();\n    const newPoints = processPoints();\n    processDuplicates(newPoints);\n    processArtefacts();\n    processLimits();\n    if (armyListState.length) {\n      setDisplay('armyList');\n      window.scrollTo(0, 0);\n    }\n  }, [armyListState]);\n\n  const handleArmyButtonClick = (armyName) => {\n    setSelectedArmy(armyName);\n    setDisplay('factionUnitsIndex');\n    window.scrollTo(0, 0);\n  };\n\n  const handleAddUnitToListWithArmyAndUnit = (armyName, unit) => {\n    dispatch({ type: 'addUnitToList', armyName, unit, unitId: uuidv4() });\n  };\n\n  const handleEditUnit = (unit) => {\n    dispatch({ type: 'editUnit', unit });\n  };\n\n  const handleDeleteUnit = (unit) => {\n    dispatch({ type: 'deleteUnit', unit });\n  };\n\n  const handleGoToDisplay = (display) => {\n    setDisplay(display);\n    window.scrollTo(0, 0);\n  };\n\n  const handlePlaneButtonClick = (planeName) => {\n    setSelectedPlane(planeName);\n    setArmies(\n      enrichArmyDataForHalpisRift(armiesData, halpiPlanesData.find((plane) => plane.name === planeName).spells)\n    );\n    setDisplay('armiesIndex');\n    window.scrollTo(0, 0);\n  };\n\n  const enrichedAvailableArtefacts = type === 'halpi' ? [...artefacts, ...halpiArtefacts] : [...artefacts];\n\n  if (!isLoaded) {\n    return <div>Loading...</div>;\n  } else if (display === 'planesIndex') {\n    return (\n      <main>\n        <header>\n          <p className=\"switch-view\">\n            This listbuilder contains units available in the Halpi's Rift campaign, including FAQs up to 1.13 and Clash\n            of Kings 2021. For standard KOW v3 listbuilding, <Link to=\"/listbuilder\">click here</Link>\n          </p>\n        </header>\n        <PlanesIndex handlePlaneButtonClick={handlePlaneButtonClick} planes={halpiPlanesData} />\n      </main>\n    );\n  } else if (display === 'armiesIndex') {\n    return (\n      <main>\n        <header>\n          {type === 'halpi' && (\n            <p className=\"switch-view\">\n              This listbuilder contains units available in the Halpi's Rift campaign, including FAQs up to 1.13 and\n              Clash of Kings 2021. For standard KOW v3 listbuilding, <Link to=\"/listbuilder\">click here</Link>\n            </p>\n          )}\n          {type === 'standard' && (\n            <p className=\"switch-view\">\n              This listbuilder contains units available in Kings of War v3 rules, including FAQs up to 1.13 and Clash\n              of Kings 2021. For Halpi's Rift campaign listbuilding,{' '}\n              <Link to=\"/listbuilder/halpis-rift\">click here</Link>\n            </p>\n          )}\n        </header>\n        <ArmiesIndex\n          armies={armies}\n          handleArmyButtonClick={handleArmyButtonClick}\n          halpi={type === 'halpi'}\n          goToDisplay={handleGoToDisplay}\n        />\n      </main>\n    );\n  } else if (display === 'factionUnitsIndex') {\n    return (\n      <main>\n        <FactionUnitsIndex\n          army={armies.find((army) => army.name === selectedArmy)}\n          goToDisplay={handleGoToDisplay}\n          selectUnit={setSelectedUnit}\n          selectArmy={setSelectedArmy}\n          fromArmyList={fromArmyList}\n          unallocated={unallocated}\n          displaySelectOtherArmy={false}\n          tooManyDuplicates={tooManyDuplicates}\n          defaultTab={lastTab || 'Inf/HI'}\n          setLastTab={setLastTab}\n        />\n      </main>\n    );\n  } else if (display === 'unitSelect' || display === 'deleteConfirm') {\n    return (\n      <main>\n        <PlaneContextProvider selectedPlane={halpiPlanesData.find((plane) => plane.name === selectedPlane)}>\n          <UnitSelect\n            armyName={selectedArmy}\n            unit={selectedUnit}\n            goToDisplay={handleGoToDisplay}\n            handleAddUnitToListWithArmyAndUnit={handleAddUnitToListWithArmyAndUnit}\n            editingUnit={!!selectedUnit.unitId}\n            editUnit={handleEditUnit}\n            deleteUnit={handleDeleteUnit}\n            deleteConfirm={display === 'deleteConfirm'}\n            availableArtefacts={enrichedAvailableArtefacts}\n          />\n        </PlaneContextProvider>\n      </main>\n    );\n  } else if (display === 'armyList') {\n    return (\n      <main>\n        <ArmyList\n          armyList={armyListState}\n          goToDisplay={handleGoToDisplay}\n          setFromArmyList={setFromArmyList}\n          selectUnit={setSelectedUnit}\n          unallocated={unallocated}\n          points={points}\n          tooManyDuplicates={tooManyDuplicates}\n          artefactDuplicates={artefactDuplicates}\n          overLimits={overLimits}\n        />\n      </main>\n    );\n  }\n};\n\nexport default Index;\n","import React, { Fragment } from 'react';\nimport Index from './Index';\n\nconst StandardIndex = () => {\n  return (\n    <Fragment>\n      <Index type=\"standard\" />\n    </Fragment>\n  );\n};\n\nexport default StandardIndex;\n","import React, { Fragment } from 'react';\nimport Index from './Index';\n\nconst HalpisRiftIndex = () => {\n  return (\n    <Fragment>\n      <Index type=\"halpi\" />\n    </Fragment>\n  );\n};\n\nexport default HalpisRiftIndex;\n","import React from 'react';\nimport StandardIndex from 'components/views/StandardIndex';\nimport HalpisRiftIndex from 'components/views/HalpisRiftIndex';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nconst App = () => {\n  return (\n    <Router>\n      <Route exact path=\"/listbuilder/halpis-rift\" component={HalpisRiftIndex} />\n      <Route exact path=\"/listbuilder\" component={StandardIndex} />\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}